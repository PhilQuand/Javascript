<style>
.customActions {
    overflow: hidden;
}
.customActions .fancybox-content {
    background-color: #e8f6f8;
    width: 100%;
}
.articleACFancy {
    padding: 0 0 0 0;
    width: 80%;
    height: 90vh;
    box-shadow: rgba(0, 0, 0, 0.8) 0px 5px 25px;
    transition: box-shadow .2s;
    display: none;
}
.fontACFancy {
    padding: 40px 20px 20px 20px;
}
.titreACSummary, .titreACFancy {
    color: #762a83;
    font-size: 24px;
    line-height: 1.2;
    margin: 10px 10px 10px 0;
    //margin: 10px 10px 0 0;
}
.titreACFancy {
   font-weight: bold;
}
.titreACSummary, .titreACFancy a:link {
   color:inherit;
}
.corpsACFancy {
    width: 100%;
    //max-height: calc(90vh - 200px);
    max-height: calc(90vh - 100px);
    overflow: auto;
    padding: 10px 15px 10px 15px;
}
.titreACFancy, .maximeFancy {
    text-align: center;
}
@media screen and (max-width: 600px) {
  .fontACFancy, .articleACFancy, .corpsACFancy {
    width: 100% ;
    max-height: none;
  }
  .customActions {
    overflow: auto;
  }
}
</style>
<style>
/* désactiver si loadFancyCATDPTimeLine() */
.articleACFancy, .fontACFancy, .corpsACFancy {
  overflow: no;
  width: auto;
  height: auto;
  box-shadow: none;
  max-height: none;
}
.button-close,
.button-previous,
.button-next {
  display: none;
}
.titreACSummary, .articleACFancy {
    display: none;
}
.articleACFancy {
    display: block;
}
</style>
<!--a data-fancybox data-slide-class='myTimeLineVid' data-src="#myTimeLine" href="javascript:;">myTimeLine</a-->
<div class="articleACFancy" id='myTimeLine'>
<div class="fontACFancy">

<!--center>
<div class="titreACFancy" id="dataYear">Actions de « C’est au Tour(s) du Peuple ».</div>
</center-->

<div class="corpsACFancy">

<div class="wrap">
<div class="timeline">
<div class="year"><h2><i>2016</i></h2><div class="evt"><div class="in"><h2><a href="https://catdp37.blogspot.com/2019/07/pour-une-autre-politique-locale-tours.html">
Pour une autre politique locale à tours et à tours +
</a></h2><div class="date">30 juin, 2016</div><div class="data"><div style="position: 0;" class="mySumReg"><img style="float:left; margin: 0.5em 1em 0 0;" src="https://1.bp.blogspot.com/-rlLfy0M9iCg/XTcWh83kv-I/AAAAAAAAjm0/Gl0z_Ok82qQDaomkZjDrNwMUBalGsVcZwCLcBGAs/s1600/Article2016-9juin.jpg" width="180px" height="auto">

Voici les propositions de «&nbsp;C’est au Tour(s) du Peuple&nbsp;» pour une autre politique locale à Tours et à Tours +
<strong>
POUR UNE AUTRE
POLITIQUE LOCALE
à TOURS et à TOURS +
Les décisions de la Ville et de l’Agglo
en 2015 et 2016 Les propositions de
«&nbsp;C’est au Tour(s) du Peuple&nbsp;»
Une ville bling-bling&nbsp;!</strong>

Prévu de longue date, l’aménagement du Haut de la Rue...</div></div></div></div><div class="evt"><div class="in"><h2><a href="https://catdp37.blogspot.com/2019/07/gratuite-des-transports-publics-dans-la.html">
Gratuité des Transports Publics dans la communauté d’agglomération Tours Plus
</a></h2><div class="date">23 septembre, 2016</div><div class="data"><div style="position: 0;" class="mySumReg"><img style="float:left; margin: 0.5em 1em 0 0;" src="https://1.bp.blogspot.com/-dSI6Io7tVgs/XTcWhENLJhI/AAAAAAAAjmo/gcGb8dNHAkcb4dzOiYVHSzMh_pb6SCiKACLcBGAs/s1600/Article2016-5septembre.jpg" width="180px" height="auto">

Plusieurs villes de France l’ont déjà instaurée et d’autres commencent à la mettre en place…
Pourquoi pas dans l’agglomération tourangelle&nbsp;?
L’association <strong>C’est Au Tour(s) Du Peuple</strong> y réfléchit depuis longtemps. Or il ne suffit pas de convaincre les Tourangeaux et leurs employeurs qu’ils ont tout à gagner dans cette réforme, il faut aussi trouver les moyens de la réussir en tenant compte...</div></div></div></div><div class="evt"><div class="in"><h2><a href="https://catdp37.blogspot.com/2016/11/communique-de-cest-au-tours-du-peuple.html">
Communiqué de «&nbsp;C’est au Tour(s) du Peuple&nbsp;» sur la destruction des services publics
</a></h2><div class="date">14 novembre, 2016</div><div class="data"><div style="position: 0;" class="mySumReg"><img style="float:left; margin: 0.5em 1em 0 0;" src="https://1.bp.blogspot.com/-_4Qh94bdPgA/XTcWfx0FyXI/AAAAAAAAjmc/Wdg4Q6C_AiAU96wXd1xW7eEpyCs_d8yTQCLcBGAs/s1600/Article2016-1novembre.jpg" width="180px" height="auto">

Après la fermeture de bon nombre de bureaux de poste en milieu rural, la suppression de prétendues « petites lignes » de chemin de fer, la casse des services publics se poursuit en Touraine comme dans l’ensemble du territoire.
Les guichets SNCF à Saint-Pierre-des-Corps, 4 bureaux de poste à Tours, des boîtes à lettresdans différents quartiers <strong>sont supprimés</strong>, tandis que diminuent les effectifs du...</div></div></div></div></div></div>

</div>

</div>
</div>
</div>
<script>
breakCode: {
  var href = "https://catdp37.blogspot.com/p/nos-actions_24.html";
  var actHref = window.location.href;
  if (actHref.indexOf(href) == -1) break breakCode;

  $(document).ready(function() {
    window.onload = function() {

      // contruction des références d'article sur le TimeLine
      /*$('.timeline').myTimeLine({
        href: [
          "https://catdp37.blogspot.com/2019/07/pour-une-autre-politique-locale-tours.html",
          "https://catdp37.blogspot.com/2019/07/gratuite-des-transports-publics-dans-la.html",
          "https://catdp37.blogspot.com/2016/11/communique-de-cest-au-tours-du-peuple.html"
        ]
      });*/


      //loadFancyCATDPTimeLine()
    }
  });

  $.fn.myTimeLine = function(options) {

    for (var i = 0; i < options.href.length; i++) addHrefToTimeLine(this, options.href[i]);

    function addHrefToTimeLine(_this, href) {
      var result = getMyInnerLinkContent(href);

      var title = result.title.html();

      var date = result.header.find(".published").html();
      date = date.split(' ');
      var inpmonth = $.trim(date[0]);
      var inpday = parseInt(date[1].split(',')[0]);
      var inpyear = parseInt(date[2]);

      var summary = result.body[0];
      createSummaryAndThumbfromDiv(summary, true);
      summary = summary.innerHTML;

      /*var item = $('<div class="evt"></div>').append(
        $('<div class="in"></div>').append(
          $('<span class="date"></span>').append(
            $('<span class="day">' + inpday + '</span>'), $('<span class="month"> ' + inpmonth + '</span>')
          ), $('<h2><a href="' + href + '">' + title + '</a></h2>'), $('<div class="data">' + summary + '</div>')
        )
      );*/
      var item = $('<div class="evt"></div>').append(
        $('<div class="in"></div>').append(
          /*$('<span class="date"></span>').append(
            $('<span class="day">' + inpday + '</span>'), $('<span class="month"> ' + inpmonth + '</span>')
          ),*/ 
         $('<h2><a href="' + href + '">' + title + '</a></h2>'), $('<div class="date">' + inpday + ' ' +  inpmonth + ', ' + inpyear + '</div>'), $('<div class="data">' + summary + '</div>')
        )
      );
      var year = getYear(_this, inpyear);
      addItem(year, item, inpmonth, inpday);
    }

    function addItem(year, item, month, day) {
      var itemIn = true;
      year.find('.evt').each(function() {
        var isMonth = $(this).find('.month').html();
        var isDay = $(this).find('.day').html();
        if (isGreaterDay(month, day, isMonth, isDay)) {
          $(this).before(item);
          itemIn = false;
        }
        return itemIn;
      });
      if (itemIn) {
        year.append(item);
      }
    }

    function isGreaterDay(month, day, isMonth, isDay) {
      if ((month2num(month) > month2num(isMonth)) || ((month2num(month) == month2num(isMonth)) && (day > isDay))) {
        return true;
      }
      else {
        return false;
      }

      function month2num(month) {
        var monthN;
        switch (month) {
          case 'janvier':
            monthN = 1;
            break;
          case 'février':
            monthN = 2;
            break;
          case 'mars':
            monthN = 3;
            break;
          case 'avril':
            monthN = 4;
            break;
          case 'mai':
            monthN = 5;
            break;
          case 'juin':
            monthN = 6;
            break;
          case 'juillet':
            monthN = 7;
            break;
          case 'août':
            monthN = 8;
            break;
          case 'septembre':
            monthN = 9;
            break;
          case 'octobre':
            monthN = 10;
            break;
          case 'novembre':
            monthN = 11;
            break;
          case 'décembre':
            monthN = 12;
            break;

          case 'Janvier':
            monthN = 1;
            break;
          case 'Février':
            monthN = 2;
            break;
          case 'Mars':
            monthN = 3;
            break;
          case 'Avril':
            monthN = 4;
            break;
          case 'Mai':
            monthN = 5;
            break;
          case 'Juin':
            monthN = 6;
            break;
          case 'Juillet':
            monthN = 7;
            break;
          case 'Août':
            monthN = 8;
            break;
          case 'Septembre':
            monthN = 9;
            break;
          case 'Octobre':
            monthN = 10;
            break;
          case 'Novembre':
            monthN = 11;
            break;
          case 'Décembre':
            monthN = 12;
            break;

          default:
            monthN = 13;
        }

        return monthN
      }

    }

    function getYear(_this, year) {
      var newyear = '';
      _this.find('.year').each(function() {
        var isYear = $(this).find('h2').html();
        if (year == isYear) {
          newyear = $(this);
          return false;
        }
        else if (year > isYear) {
          newyear = $('<div class="year"></div>').append($('<h2><i>' + year + '</i></h2>'))
          $(this).before(newyear);
          return false;
        }
      });
      if (newyear == '') {
        newyear = $('<div class="year"></div>').append($('<h2><i>' + year + '</i></h2>'))
        _this.append(newyear);
      }
      return newyear;
    }

  }

  function loadFancyCATDPTimeLine() {
    $.fancybox.open({
      src: "#myTimeLine",
      type: "inline",
      opts: {
        infobar: true,
        arrows: false,
        animationEffect: "fade",
        transitionEffect: "slide",
        speed: 300,
        margin: [40, 20],
        buttons: false,
        slideClass: 'customActions'
      }
    });
  }

}
</script>